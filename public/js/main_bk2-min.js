import{CallSymbolsApi}from"./modules/CallSymbolsApi.js";import{CallRateApi}from"./modules/CallRateApi.js";let globalFrom="",globalTo="";const promise=CallSymbolsApi();function showSymbols(o,e){console.log("showSymbols start");for(let l=0;l<e.length;l++){const t=document.createElement("option");o.appendChild(t),t.textContent=e[l],t.value=e[l]}console.log("showSymbols done")}function getSymbolsSettingFromLocalStorage(o){return"from"===o?localStorage.getItem("shoppingListSetCurrencyFrom"):"to"===o&&localStorage.getItem("shoppingListSetCurrencyTo"),""}function callRateApiOnFunction(o){CallRateApi(o).then(o=>console.log(o))}function setLocalSorageSymbolsOnHTML(o,e){o.toSelectedIndex=e,"from"===o?globalFrom=localStorage.getItem("shoppingListSetCurrencyFromValue"):"to"===o&&(globalTo=localStorage.getItem("shoppingListSetCurrencyToValue"))}function pickUpSymbols(){const o=document.getElementById("from"),e=document.getElementById("to");o.addEventListener("change",()=>{globalFrom=o.value,console.log(globalFrom);const e=setCurrencyAPI(globalFrom,globalTo);e&&(console.log(e),callRateApiOnFunction(e))}),e.addEventListener("change",()=>{globalTo=e.value,console.log(globalTo);const o=setCurrencyAPI(globalFrom,globalTo);o&&(console.log(o),callRateApiOnFunction(o))})}function setCurrencyAPI(o,e){if(o&&e){return console.log("set both currency"),`https://api.exchangerate.host/convert?from=${o}&to=${e}&places=0`}}promise.then(o=>Object.keys(o.symbols)).then(o=>{const e=document.getElementById("from"),l=document.getElementById("to");console.log(o),showSymbols(e,o),showSymbols(l,o),pickUpSymbols()});